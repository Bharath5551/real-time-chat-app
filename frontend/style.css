/* =========================
   THEME VARIABLES
   ========================= */

/* LIGHT MODE (default) */
:root{
  --primary-bg:#f4f6fb;
  --secondary-bg:#ffffff;
  --sidebar-bg:#e9ecf5;
  --accent-color:#4f46e5;
  --text-color:#1f2937;
  --input-bg:#ffffff;
  --user-message-bg:#4f46e5;
  --other-message-bg:#e5e7eb;
  --system-message-color:#6b7280;
}

/* DARK MODE */
body.dark{
  --primary-bg:#0f172a;
  --secondary-bg:#020617;
  --sidebar-bg:#020617;
  --accent-color:#6366f1;
  --text-color:#e5e7eb;
  --input-bg:#020617;
  --user-message-bg:#6366f1;
  --other-message-bg:#1e293b;
  --system-message-color:#94a3b8;
}

/* =========================
   GLOBAL
   ========================= */

*{
  box-sizing:border-box;
}

body{
  font-family:"Poppins",sans-serif;
  margin:0;
  display:flex;
  height:100vh;
  background:var(--primary-bg);
  color:var(--text-color);
  overflow:hidden;
  transition:background .25s,color .25s;
}

/* =========================
   SIDEBAR
   ========================= */

.sidebar{
  width:250px;
  background:var(--sidebar-bg);
  padding:16px;
  border-right:2px solid var(--accent-color);
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* SMALL THEME TOGGLE */
.theme-toggle{
  width:34px;
  height:34px;
  border-radius:50%;
  border:none;
  background:var(--accent-color);
  color:#fff;
  cursor:pointer;
  font-size:16px;
  display:flex;
  align-items:center;
  justify-content:center;
}

.sidebar h3{
  margin:0;
  font-size:12px;
  letter-spacing:1.2px;
  text-transform:uppercase;
}

#membersList{
  overflow:auto;
}

#membersList div{
  padding:8px 10px;
  border-radius:20px;
  background:rgba(0,0,0,0.05);
  font-size:13px;
  white-space:nowrap;
}

/* =========================
   CHAT AREA
   ========================= */

.chat{
  flex:1;
  display:flex;
  flex-direction:column;
  background:var(--secondary-bg);
}

#chat-box{
  flex:1;
  padding:20px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:10px;
}

/* =========================
   INPUT AREA
   ========================= */

.input-area{
  display:flex;
  gap:10px;
  padding:12px;
  background:var(--sidebar-bg);
}

#message{
  flex:1;
  padding:12px 16px;
  border-radius:999px;
  border:none;
  background:var(--input-bg);
  color:var(--text-color);
  font-size:14px;
}

#message:focus{
  outline:none;
}

#sendBtn{
  padding:10px 16px;
  border:none;
  border-radius:999px;
  background:var(--accent-color);
  color:white;
  cursor:pointer;
  font-weight:600;
}

/* =========================
   MESSAGES + AVATAR
   ========================= */

.message-row{
  display:flex;
  align-items:flex-end;
  gap:10px;
}

.message-row.user-row{
  flex-direction:row-reverse;
}

.avatar{
  width:34px;
  height:34px;
  border-radius:50%;
  background:linear-gradient(135deg,var(--accent-color),#9333ea);
  color:white;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:600;
  font-size:14px;
  flex-shrink:0;
}

.message{
  max-width:75%;
  display:flex;
  flex-direction:column;
  gap:4px;
}

.meta{
  font-size:11px;
  opacity:.7;
}

.bubble{
  padding:10px 14px;
  border-radius:14px;
  background:var(--other-message-bg);
  font-size:14px;
  word-wrap:break-word;
}

.message.user .bubble{
  background:var(--user-message-bg);
  color:white;
  border-bottom-right-radius:6px;
}

/* =========================
   SYSTEM MESSAGE (if used)
   ========================= */

.system{
  align-self:center;
  font-style:italic;
  font-size:13px;
  color:var(--system-message-color);
}

/* =========================
   MOBILE RESPONSIVE
   ========================= */

@media(max-width:768px){

  body{
    flex-direction:column;
  }

  .sidebar{
    width:100%;
    flex-direction:row;
    align-items:center;
    gap:10px;
    border-right:none;
    border-bottom:2px solid var(--accent-color);
    overflow-x:auto;
  }

  #membersList{
    display:flex;
    gap:8px;
  }

  .message{
    max-width:85%;
  }
}
